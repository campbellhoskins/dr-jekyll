# ===========================================
# PO Pro - Environment Variables
# ===========================================
# Copy this file to .env.local for development
# Copy to .env.production for production deployment

# ===========================================
# Database (Neon PostgreSQL)
# ===========================================
# Get from: https://neon.tech
DATABASE_URL="postgresql://username:password@hostname/database?sslmode=require"

# ===========================================
# NextAuth.js
# ===========================================
# NEXTAUTH_URL: Your app's base URL
# Development: http://localhost:3000
# Production: https://your-domain.com
NEXTAUTH_URL="http://localhost:3000"

# NEXTAUTH_SECRET: Random string for encrypting tokens
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET="your-nextauth-secret-here"

# ===========================================
# Google OAuth (for merchant login + Gmail)
# ===========================================
# Get from: https://console.cloud.google.com/apis/credentials
# 1. Create OAuth 2.0 Client ID
# 2. Add authorized redirect URI: http://localhost:3000/api/auth/callback/google
# 3. Enable Gmail API in your project
GOOGLE_CLIENT_ID="your-google-client-id.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# ===========================================
# LLM Service - Primary Provider (Claude / Anthropic)
# ===========================================
# Get from: https://console.anthropic.com/
ANTHROPIC_API_KEY="sk-ant-your-api-key-here"

# Model selection:
# Development: claude-3-haiku-20240307 (cheaper)
# Production: claude-sonnet-4-20250514 or claude-opus-4-20250514
LLM_PRIMARY_MODEL="claude-3-haiku-20240307"

# ===========================================
# LLM Service - Fallback Provider (OpenAI)
# ===========================================
# Get from: https://platform.openai.com/api-keys
# Activated automatically when primary provider fails after retries
OPENAI_API_KEY="sk-your-openai-api-key-here"
LLM_FALLBACK_MODEL="gpt-4o"

# ===========================================
# Email Service (System Notifications)
# ===========================================
# Using SendGrid: https://sendgrid.com/
# Or Resend: https://resend.com/
# Only fill in ONE of these based on your choice

# SendGrid
SENDGRID_API_KEY="SG.your-sendgrid-api-key"

# OR Resend
# RESEND_API_KEY="re_your-resend-api-key"

# From address for system notifications
NOTIFICATION_FROM_EMAIL="notifications@popro.com"
NOTIFICATION_FROM_NAME="PO Pro"

# ===========================================
# Currency Conversion API
# ===========================================
# Open Exchange Rates: https://openexchangerates.org/
# Or ExchangeRate-API: https://www.exchangerate-api.com/
EXCHANGE_RATE_API_KEY="your-exchange-rate-api-key"
EXCHANGE_RATE_PROVIDER="openexchangerates"  # or "exchangerateapi"

# ===========================================
# Error Tracking (Sentry)
# ===========================================
# Get from: https://sentry.io/
SENTRY_DSN="https://your-sentry-dsn@sentry.io/project-id"

# ===========================================
# Uptime Monitoring (Optional)
# ===========================================
# Configure in Better Uptime or Checkly dashboard
# No env vars needed - just for reference

# ===========================================
# Application Configuration
# ===========================================
# Email polling interval (in minutes)
EMAIL_POLL_INTERVAL_MINUTES="10"

# Maximum LLM retries before escalation
LLM_MAX_RETRIES="3"

# Conversation context window (number of recent messages)
CONVERSATION_CONTEXT_WINDOW="10"

# ===========================================
# Timing Configuration (in hours)
# ===========================================
# Hours before sending approval reminder
APPROVAL_REMINDER_HOURS="24"

# Hours before sending hold message to supplier
SUPPLIER_HOLD_MESSAGE_HOURS="48"

# Hours before following up on no supplier response (initial quote)
SUPPLIER_RESPONSE_FOLLOWUP_HOURS="48"

# Hours before following up on no order confirmation
ORDER_CONFIRMATION_FOLLOWUP_HOURS="48"

# ===========================================
# Development Only
# ===========================================
# Set to "true" to enable verbose logging
DEBUG_MODE="false"

# Set to "true" to skip actual email sending (logs instead)
DRY_RUN_EMAILS="false"
